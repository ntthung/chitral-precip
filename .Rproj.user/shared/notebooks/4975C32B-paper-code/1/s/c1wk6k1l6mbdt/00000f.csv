"0","treeYears <- crnWide$year"
"0","# Current year"
"0","# Merge TR in 1965-2018 with precipitation in 1965-2018"
"0","instIndc <- which(treeYears %in% 1965:2018) "
"0","XYc <- cbind(Xfilled[instIndc, ], as.matrix(PmWide[, -'year'])) "
"0",""
"0","# Tree rings and previous year precipitation"
"0","# Merge TR in 1966-2018 with precipitation in 1965-2017"
"0","instIndp <- which((treeYears - 1) %in% 1965:2017) # previous year streamflow"
"0","XYp <- cbind(Xfilled[instIndp, ], as.matrix(PmWide[-.N, -'year']))"
"0",""
"0","# Tree rings and next year precipitation"
"0","# Merge TR in 1963-2016 with precipitation in 1965-2018"
"0","# instIndn <- which((treeYears + 1) %in% 1965:2018) # next year streamflow"
"0","# XYn <- cbind(Xfilled[instIndn, ], as.matrix(PmWide[, -'year']))"
"0",""
"0","set.seed(2022)"
"0","corDTc <- cor_boot(XYc, 1:7, 8:19, groupNames = c('site', 'month')) # current year"
"0","corDTp <- cor_boot(XYp, 1:7, 8:19, groupNames = c('site', 'month')) # current year"
"0","# corDTn <- cor_boot(XYn, 1:7, 8:19, groupNames = c('site', 'month')) # current year"
"0",""
"0","corDTc[, month := paste0(month, 'c')]"
"0","corDTp[, month := paste0(month, 'p')]"
"0","# corDTn[, month := paste0(month, 'n')]"
"0",""
"0","corDTPm <- rbind(corDTp, corDTc)"
"0","corDTPm[, month := factor(month, c(paste0(month.abb, 'p'), paste0(month.abb, 'c')))]"
